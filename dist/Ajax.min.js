!function(t,a){"use strict";var e=function(t,a){return this.request(t,a),this};e.normalize=function(t,a){if("object"==typeof t&&null!==t)a=t;else{if("string"!=typeof t)throw"Ajax.request's parameters where not set correctly. Please refer to the manual for more information.";a=a||{},a.url=t}return a.method=a.method||"GET",a},e.dataTransformers={json:function(t){return JSON.parse(t+"")}},e.transformData=function(t,a){if(!a)return t;for(var e in this.dataTransformers){var s=this.dataTransformers[e];if(a==a)return s(t)}},e.getPostData=function(t){var a=t.method;return"POST"!==a&&"DELETE"!==a&&"PUT"!==a||!t.data?null:this.serialize(t.data)},e.serialize=function(t,s){var r,n="";for(r in t)t.hasOwnProperty(r)&&(""!=n&&(n+="&"),"object"!=typeof t[r]?(n+=s?s+"["+a(r)+"]":a(r),n+="="+a(t[r])):n+=e.serialize(t[r],r));return n},e.prototype.request=function(a,s){if(s=e.normalize(a,s),!s||0==s.length)throw"Ajax.request expects an url or an options object, none given.";this.xhr=t.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.callbacks=[];var r=this;return this.callbacks.d=function(t,a,e){this.push({type:t,fn:a,dataType:e})},this.done=function(t,a){return this.callbacks.d("done",t,a),this},this.fail=function(t){return this.callbacks.d("fail",t),this},this.always=function(t){return this.callbacks.d("always",t),this},this.callCallbacks=function(t,a){var s=a.response;for(var n in r.callbacks)r.callbacks.hasOwnProperty(n)&&(n=r.callbacks[n],n.type===t&&("done"===t?n.fn.call(a,e.transformData(s,n.dataType),a.status,a):"fail"===t?n.fn.call(a,a,a.status,a.error):n.fn.call(a,a,a.status)))},this.xhr.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400?r.callCallbacks("done",this):4===this.readyState&&r.callCallbacks("fail",this),4===this.readyState&&r.callCallbacks("always",this)},this.xhr.onerror=function(){r.callCallbacks("fail",this)},this.xhr.open(s.method,s.url,!0),this.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),this.xhr.send(e.getPostData(s)),this},t.Ajax=e}(window,encodeURIComponent);
//# sourceMappingURL=./Ajax.min.js.map