!function(t,a){"use strict";var e=function(t,a){return this.request(t,a),this};e.n=function(t,a){if("object"==typeof t&&null!==t)a=t;else{if("string"!=typeof t)return;a=a||{},a.url=t}return a.method=a.method||"GET",a},e.dataTransformers={json:function(t){return JSON.parse(t+"")}},e.t=function(t,a){if(!a)return t;for(var e in this.dataTransformers){var s=this.dataTransformers[e];if(a==a)return s(t)}},e.p=function(t){var a=t.method;return"POST"!==a&&"DELETE"!==a&&"PUT"!==a||!t.data?null:this.serialize(t.data)},e.serialize=function(t,s){var r,n="";for(r in t)t.hasOwnProperty(r)&&(""!=n&&(n+="&"),"object"!=typeof t[r]?(n+=s?s+"["+a(r)+"]":a(r),n+="="+a(t[r])):n+=e.serialize(t[r],r));return n},e.prototype.request=function(a,s){if(s=e.n(a,s),!s||0==s.length)return;this.xhr=t.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.d=[];var r=this;return this.d.add=function(t,a,e){this.push({type:t,fn:a,dataType:e})},this.done=function(t,a){return this.d.add("done",t,a),this},this.fail=function(t){return this.d.add("fail",t),this},this.always=function(t){return this.d.add("always",t),this},this.c=function(t,a){var s=a.response;for(var n in r.d)r.d.hasOwnProperty(n)&&(n=r.d[n],n.type===t&&("done"===t?n.fn.call(a,e.t(s,n.dataType),a.status,a):"fail"===t?n.fn.call(a,a,a.status,a.error):n.fn.call(a,a,a.status)))},this.xhr.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400?r.c("done",this):4===this.readyState&&r.c("fail",this),4===this.readyState&&r.c("always",this)},this.xhr.onerror=function(){r.c("fail",this)},this.xhr.open(s.method,s.url,!0),this.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),this.xhr.send(e.p(s)),this},t.Ajax=e}(window,encodeURIComponent);
